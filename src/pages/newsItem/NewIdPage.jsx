import React, {useEffect} from 'react';
import {Link, useParams} from "react-router-dom";
import Header from "../../components/header/header";
import Footer from "../../components/footer/footer";
import classes from './newIdPage.module.scss'
import yellowPoints from '../../assets/img/yellow-points.png'
import {useSelector} from "react-redux";
import NewsItem from "../../components/newsComponents/newsItem/newsItem";

const NewIdPage = () => {
    const params = useParams()
    const posts = useSelector(state => state.toolkit.posts)
    const post = posts[params.id-1]

    useEffect(()=>{
        window.scrollTo(0, 0)
    },[post])

    return (
        <React.Fragment>
            <Header></Header>
            <main>
               <div className={classes.purpleBg}></div>
                <img className={classes.yellowPoints} src={yellowPoints} alt="points"/>
                <div className={classes.mainContainer}>
                    <div className={classes.breadcrumbs}>
                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g>
                                <path d="M11.7985 5.36427L6.41446 0.458394C6.17814 0.243027 5.82177 0.243051 5.58554 0.458371L0.201516 5.3643C0.0122119 5.5368 -0.0503192 5.80258 0.042165 6.04138C0.134673 6.28019 0.359907 6.43448 0.616008 6.43448H1.47593V11.3498C1.47593 11.5447 1.63394 11.7027 1.82883 11.7027H4.77993C4.97481 11.7027 5.13283 11.5447 5.13283 11.3498V8.36537H6.86724V11.3498C6.86724 11.5447 7.02526 11.7027 7.22014 11.7027H10.1711C10.366 11.7027 10.524 11.5447 10.524 11.3498V6.43448H11.3841C11.6402 6.43448 11.8654 6.28016 11.9579 6.04138C12.0503 5.80256 11.9878 5.5368 11.7985 5.36427Z" fill="#664EF9"/>
                                <path d="M10.4317 1.00195H8.06177L10.7846 3.47779V1.35483C10.7846 1.15995 10.6266 1.00195 10.4317 1.00195Z" fill="#664EF9"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_305_2083">
                                    <rect width="12" height="12" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                        <Link to='/news'>Новости</Link>
                        <svg width="3" height="4" viewBox="0 0 3 4" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="1.5" cy="2" r="1.5" fill="#4E64F9"/>
                        </svg>
                        <p>{post.title}</p>
                    </div>
                    <h1>{post.title}</h1>
                    <div className={classes.dateAndSocialBlock}>
                        <p className={classes.date}>{post.date}</p>
                        <div className={classes.socialBlock}>
                            <p>Поделиться</p>
                            <a target={'_blank'} rel={'noreferrer'} href='https://vk.com'>
                                <svg width="17" height="10" viewBox="0 0 25 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M24.2554 1.26839C24.4231 0.721422 24.2554 0.320312 23.4625 0.320312H20.836C20.1676 0.320312 19.8622 0.667314 19.6946 1.04843C19.6946 1.04843 18.3591 4.24671 16.4668 6.32048C15.8559 6.92391 15.5769 7.11446 15.2439 7.11446C15.0774 7.11446 14.8355 6.92391 14.8355 6.37694V1.26839C14.8355 0.612028 14.6427 0.320312 14.0857 0.320312H9.95847C9.54167 0.320312 9.29015 0.623791 9.29015 0.913154C9.29015 1.53423 10.2363 1.67773 10.3333 3.42803V7.22503C10.3333 8.05666 10.1812 8.2084 9.84589 8.2084C8.956 8.2084 6.79056 4.99835 5.50543 1.32367C5.25511 0.609676 5.0024 0.321489 4.33169 0.321489H1.70633C0.955376 0.321489 0.805664 0.66849 0.805664 1.0496C0.805664 1.73419 1.69555 5.12186 4.9509 9.60228C7.12112 12.6618 10.1765 14.3203 12.9599 14.3203C14.6283 14.3203 14.8343 13.9521 14.8343 13.317V11.0044C14.8343 10.2681 14.9936 10.1198 15.5218 10.1198C15.9098 10.1198 16.5781 10.3128 18.1364 11.7866C19.9161 13.5346 20.2108 14.3191 21.2108 14.3191H23.8362C24.586 14.3191 24.9608 13.951 24.7452 13.224C24.5093 12.5006 23.6589 11.4479 22.5307 10.2022C21.9175 9.49171 21.0012 8.72714 20.7222 8.34485C20.3329 7.85199 20.4455 7.63438 20.7222 7.1968C20.7234 7.19798 23.9224 2.77284 24.2554 1.26839Z" fill="#1E2123"/>
                                </svg>
                            </a>
                            <a target={'_blank'} rel={'noreferrer'} href="https://www.facebook.com">
                                <svg width="9" height="17" viewBox="0 0 10 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.05038 3.02509H9.68354V0.18066C9.40178 0.141899 8.43277 0.0546875 7.30424 0.0546875C4.94953 0.0546875 3.33649 1.53579 3.33649 4.25798V6.76326H0.738037V9.94312H3.33649V17.9442H6.52232V9.94387H9.01567L9.41147 6.76401H6.52157V4.57328C6.52232 3.65421 6.76979 3.02509 8.05038 3.02509Z" fill="#1E2123"/>
                                </svg>
                            </a>
                            <a target={'_blank'} rel={'noreferrer'} href="https://www.viber.com/ru/">
                                <svg width="17" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g >
                                        <path d="M9.08751 1.45441C7.82648 1.47144 5.11314 1.67844 3.59532 3.06918C2.46858 4.18937 2.07488 5.84082 2.02902 7.88599C1.98972 9.92329 1.94386 13.749 5.63196 14.7912V16.3765C5.63196 16.3765 5.60707 17.0119 6.02632 17.1429C6.54383 17.3067 6.83862 16.816 7.32993 16.292L8.24704 15.257C10.7691 15.4666 12.7016 14.9825 12.9243 14.9104C13.4353 14.7466 16.3183 14.3791 16.7899 10.5528C17.2747 6.60203 16.5541 4.11272 15.2571 2.98598L15.2505 2.98467C14.8575 2.62438 13.2853 1.47799 9.76748 1.46489C9.76748 1.46489 9.50807 1.44851 9.08751 1.45441ZM9.1314 2.56608C9.48842 2.56411 9.70787 2.57918 9.70787 2.57918C12.6819 2.58573 14.1041 3.48319 14.4382 3.78453C15.5322 4.72064 16.0942 6.9656 15.6829 10.2646C15.2898 13.4614 12.9512 13.6645 12.5188 13.802C12.3354 13.861 10.6322 14.2802 8.48877 14.1427C8.48877 14.1427 6.89103 16.0693 6.39317 16.5671C6.31456 16.6523 6.22284 16.6785 6.16389 16.6654C6.07873 16.6457 6.05252 16.5409 6.05907 16.3968L6.07218 13.764C2.94679 12.8993 3.13021 9.6357 3.16296 7.9325C3.20227 6.22929 3.52326 4.83266 4.47312 3.88934C5.75512 2.72985 8.05969 2.57263 9.13075 2.56608H9.1314ZM9.36723 4.26929C9.34145 4.2692 9.31591 4.2742 9.29207 4.28401C9.26823 4.29381 9.24656 4.30823 9.22831 4.32642C9.21005 4.34462 9.19556 4.36624 9.18568 4.39005C9.17579 4.41385 9.17071 4.43938 9.17071 4.46516C9.17071 4.51728 9.19141 4.56726 9.22827 4.60412C9.26512 4.64097 9.31511 4.66168 9.36723 4.66168C9.85425 4.65239 10.3383 4.73965 10.7914 4.91842C11.2445 5.09719 11.6577 5.36394 12.0072 5.70326C12.7212 6.39764 13.0691 7.32786 13.0822 8.54631C13.0822 8.57211 13.0873 8.59767 13.0972 8.62151C13.107 8.64536 13.1215 8.66702 13.1398 8.68527C13.158 8.70352 13.1797 8.71799 13.2035 8.72787C13.2274 8.73775 13.2529 8.74283 13.2787 8.74283V8.73694C13.3308 8.73694 13.3808 8.71623 13.4177 8.67937C13.4545 8.64252 13.4752 8.59253 13.4752 8.54041C13.4995 7.9674 13.4069 7.39544 13.2031 6.85937C12.9993 6.32329 12.6884 5.83432 12.2895 5.42223C11.51 4.66233 10.5261 4.26929 9.36658 4.26929H9.36723ZM6.77704 4.72129C6.63773 4.70144 6.4958 4.72913 6.37417 4.7999H6.36631C6.09772 4.95712 5.8501 5.15364 5.61427 5.41568C5.4374 5.6253 5.33849 5.83427 5.31228 6.03735C5.29687 6.15645 5.30805 6.27749 5.34504 6.39175L5.35814 6.3983C5.56005 6.9919 5.82352 7.56274 6.14424 8.10151C6.55996 8.85604 7.07072 9.55416 7.66402 10.1788L7.68367 10.205L7.70988 10.2246L7.72953 10.2443L7.74918 10.2639C8.37624 10.8587 9.07621 11.3716 9.83234 11.7903C10.697 12.2619 11.2224 12.4847 11.5369 12.5764V12.5829C11.6286 12.6091 11.7124 12.6222 11.7976 12.6222C12.066 12.6026 12.3201 12.4938 12.5195 12.313C12.775 12.0837 12.978 11.8296 13.1287 11.561V11.5544C13.2794 11.2728 13.227 11.0035 13.0108 10.8201C12.5751 10.439 12.1034 10.1011 11.6024 9.81127C11.2683 9.62784 10.9276 9.73921 10.7901 9.92263L10.4953 10.2954C10.3446 10.4788 10.0695 10.4526 10.0695 10.4526L10.0616 10.4591C8.01776 9.93508 7.47405 7.86568 7.47405 7.86568C7.47405 7.86568 7.44784 7.58399 7.63782 7.43988L8.00466 7.14509C8.18153 7.00097 8.306 6.66033 8.11603 6.32624C7.82658 5.82493 7.48869 5.3532 7.1072 4.91782C7.02422 4.8149 6.90707 4.74517 6.77704 4.72129ZM9.70722 5.30431C9.6551 5.30449 9.60518 5.32536 9.56845 5.36234C9.53171 5.39932 9.51117 5.44937 9.51135 5.50149C9.51152 5.55361 9.53239 5.60353 9.56937 5.64026C9.60635 5.677 9.6564 5.69754 9.70853 5.69736C10.3641 5.70874 10.9884 5.97966 11.4445 6.4507C11.6503 6.6777 11.8085 6.94363 11.9097 7.2328C12.011 7.52196 12.0533 7.82848 12.0341 8.13426C12.0342 8.18627 12.055 8.23609 12.0919 8.2728C12.1287 8.30952 12.1786 8.33013 12.2306 8.33013L12.2371 8.33799C12.263 8.33799 12.2886 8.33289 12.3125 8.32297C12.3364 8.31305 12.3581 8.29852 12.3763 8.2802C12.3946 8.26188 12.4091 8.24014 12.4189 8.21622C12.4287 8.1923 12.4337 8.16667 12.4337 8.14081C12.4533 7.36127 12.2109 6.70619 11.7327 6.18212C11.2545 5.65806 10.5863 5.36327 9.73473 5.30431C9.72557 5.30367 9.71638 5.30367 9.70722 5.30431ZM10.0282 6.36489C10.0019 6.36411 9.97575 6.36852 9.95117 6.37787C9.92659 6.38721 9.9041 6.4013 9.88497 6.41934C9.86584 6.43737 9.85045 6.459 9.83967 6.48298C9.8289 6.50697 9.82296 6.53284 9.82218 6.55912C9.82141 6.5854 9.82582 6.61158 9.83516 6.63615C9.8445 6.66073 9.85859 6.68323 9.87663 6.70236C9.89467 6.72149 9.91629 6.73688 9.94028 6.74765C9.96426 6.75843 9.99013 6.76437 10.0164 6.76514C10.6649 6.7979 10.9794 7.12544 11.0187 7.80017C11.0204 7.85115 11.0418 7.89947 11.0785 7.93492C11.1152 7.97037 11.1642 7.99017 11.2152 7.99014H11.2218C11.2482 7.98932 11.2741 7.98319 11.2981 7.97212C11.3221 7.96104 11.3435 7.94525 11.3613 7.92568C11.379 7.90612 11.3926 7.88318 11.4013 7.85824C11.41 7.8333 11.4135 7.80686 11.4117 7.78052C11.3659 6.90271 10.8877 6.41074 10.0361 6.36489C10.0334 6.36484 10.0308 6.36484 10.0282 6.36489Z" fill="#1E2123"/>
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_559_421">
                                            <rect width="17.8895" height="17.8895" fill="white" transform="translate(0.239258 0.0546875)"/>
                                        </clipPath>
                                    </defs>
                                </svg>
                            </a>
                            <a target={'_blank'} rel={'noreferrer'} href="https://telegram.org">
                                <svg width="17" height="14" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.7558 2.82446L2.53991 7.92074C1.63798 8.283 1.6432 8.78615 2.37444 9.01051L5.76748 10.069L13.618 5.11581C13.9892 4.88996 14.3284 5.01146 14.0496 5.25893L7.68912 10.9992H7.68762L7.68912 11L7.45506 14.4974C7.79794 14.4974 7.94926 14.3401 8.14157 14.1545L9.78964 12.5519L13.2177 15.084C13.8498 15.4321 14.3038 15.2532 14.461 14.4989L16.7114 3.89336C16.9417 2.96981 16.3588 2.55165 15.7558 2.82446Z" fill="#1E2123"/>
                                </svg>
                            </a>
                            <a target={'_blank'} rel={'noreferrer'} href="https://www.whatsapp.com">
                                <svg width="17" height="16" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M14.7576 3.61983C14.0616 2.91869 13.2331 2.36282 12.3205 1.98451C11.4078 1.60619 10.429 1.41296 9.44106 1.41605C5.29986 1.41605 1.92926 4.78665 1.92926 8.9307C1.92926 10.2549 2.27618 11.5496 2.93304 12.6871L1.8667 16.5818L5.85056 15.5364C6.95194 16.1363 8.18594 16.4511 9.44012 16.452H9.44296C13.5842 16.452 16.9576 13.0814 16.9576 8.93734C16.9601 7.9497 16.7669 6.97136 16.3892 6.05882C16.0114 5.14628 15.4565 4.31765 14.7567 3.62078L14.7576 3.61983ZM9.44296 15.1838C8.32368 15.1839 7.22496 14.8831 6.26194 14.3127L6.0335 14.1762L3.66953 14.7951L4.30081 12.4909L4.15294 12.2539C3.52523 11.2594 3.19351 10.1068 3.19655 8.9307C3.19856 7.27393 3.85779 5.68562 5.02958 4.51437C6.20137 3.34311 7.78997 2.6846 9.44675 2.68334C11.114 2.68334 12.6846 3.33547 13.8628 4.51367C14.4443 5.09299 14.9051 5.78178 15.2188 6.54025C15.5325 7.29872 15.6927 8.11183 15.6903 8.9326C15.6875 12.38 12.8856 15.1828 9.44296 15.1828V15.1838ZM12.8676 10.5042C12.6809 10.4094 11.7567 9.95629 11.5851 9.89373C11.4136 9.83117 11.2884 9.79895 11.1614 9.98852C11.0373 10.1752 10.6761 10.5989 10.5662 10.726C10.4562 10.8501 10.3472 10.8681 10.1605 10.7733C9.97376 10.6786 9.36618 10.4805 8.6496 9.84065C8.09226 9.34302 7.71406 8.72691 7.60411 8.54018C7.49416 8.35346 7.59179 8.25014 7.68752 8.1582C7.77378 8.07478 7.87425 7.93924 7.96904 7.82929C8.06382 7.71934 8.0932 7.64256 8.15576 7.51555C8.21832 7.39138 8.18799 7.28142 8.1406 7.18664C8.0932 7.09185 7.7169 6.16769 7.56335 5.79138C7.41264 5.42361 7.2553 5.4748 7.13966 5.46816C7.0297 5.46248 6.90553 5.46248 6.78136 5.46248C6.65719 5.46248 6.45246 5.50987 6.28089 5.6966C6.10933 5.88333 5.62308 6.33925 5.62308 7.26341C5.62308 8.18758 6.29511 9.07952 6.3899 9.20653C6.48468 9.3307 7.71406 11.2293 9.59746 12.0416C10.0449 12.234 10.3946 12.3496 10.6666 12.4387C11.1169 12.5809 11.5254 12.5601 11.8486 12.5127C12.2098 12.4596 12.9595 12.0596 13.1169 11.6207C13.2742 11.1819 13.2742 10.8065 13.2268 10.7288C13.1823 10.6454 13.0581 10.5989 12.8685 10.5032L12.8676 10.5042Z" fill="#1E2123"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                    <div className={classes.imgBlock}>
                        <img src={post.img} alt="Изображение комнаты"/>
                    </div>
                    <p className={classes.description}>{post.description}</p>
                </div>
                <div className={classes.seeAlso}>
                    <div className={classes.container}>
                        <h2>Читайте также</h2>
                        <div className={classes.seeAlsoPostsBlock}>
                            <NewsItem post={posts[+params.id]? posts[+params.id] : posts[+params.id - 2]}></NewsItem>
                            <NewsItem post={posts[+params.id+1]? posts[+params.id+1] : posts[+params.id - 3]}></NewsItem>
                            <NewsItem post={posts[+params.id+2]? posts[+params.id+2] : posts[+params.id - 4]}></NewsItem>
                        </div>
                    </div>
                </div>
            </main>
            <Footer></Footer>
        </React.Fragment>
    );
};

export default NewIdPage;
